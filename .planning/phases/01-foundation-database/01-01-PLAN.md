---
phase: 01-foundation-database
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/layout.tsx
  - app/globals.css
  - app/providers.tsx
  - app/page.tsx
  - app/(dashboard)/layout.tsx
  - app/(dashboard)/page.tsx
  - app/(dashboard)/training/page.tsx
  - app/(dashboard)/deployments/page.tsx
  - components/sidebar/app-sidebar.tsx
  - components/theme-toggle.tsx
  - package.json
autonomous: true

must_haves:
  truths:
    - "User can navigate between Dashboard, Training, and Deployments pages via sidebar"
    - "App uses Liquid AI purple (#5603AD) and blue (#3898EC) as primary/accent colors"
    - "User can toggle between light and dark mode without page flash"
  artifacts:
    - path: "app/(dashboard)/layout.tsx"
      provides: "Sidebar layout wrapping all dashboard routes"
      contains: "SidebarProvider"
    - path: "app/(dashboard)/page.tsx"
      provides: "Dashboard home page"
      contains: "Dashboard"
    - path: "app/(dashboard)/training/page.tsx"
      provides: "Training route placeholder"
      contains: "Training"
    - path: "app/(dashboard)/deployments/page.tsx"
      provides: "Deployments route placeholder"
      contains: "Deployments"
    - path: "components/sidebar/app-sidebar.tsx"
      provides: "Sidebar navigation with 3 routes"
      contains: "Dashboard"
    - path: "components/theme-toggle.tsx"
      provides: "Dark/light mode toggle button"
      contains: "useTheme"
    - path: "app/globals.css"
      provides: "Liquid AI color palette as CSS variables for light and dark"
      contains: "5603AD"
    - path: "app/providers.tsx"
      provides: "ThemeProvider wrapper"
      contains: "ThemeProvider"
  key_links:
    - from: "app/(dashboard)/layout.tsx"
      to: "components/sidebar/app-sidebar.tsx"
      via: "import and render"
      pattern: "AppSidebar"
    - from: "app/layout.tsx"
      to: "app/providers.tsx"
      via: "wraps children in Providers"
      pattern: "Providers"
    - from: "components/sidebar/app-sidebar.tsx"
      to: "app/(dashboard)/*"
      via: "Link href navigation"
      pattern: "href.*/(training|deployments)"
---

<objective>
Scaffold the Next.js app with ShadCN/ui, implement Liquid AI branded theming with dark mode, and build sidebar navigation with three route pages.

Purpose: Establish the app shell that all subsequent phases build within -- themed, navigable, and dark-mode ready.
Output: Running Next.js app with sidebar, 3 pages, Liquid AI colors, and dark mode toggle.
</objective>

<execution_context>
@/home/wraith/.claude/get-shit-done/workflows/execute-plan.md
@/home/wraith/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-database/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js app with ShadCN/ui and install dependencies</name>
  <files>package.json, app/layout.tsx, app/globals.css, app/page.tsx, next.config.ts, tsconfig.json, tailwind.config.ts</files>
  <action>
1. Scaffold the app using the user's EXACT command (do NOT use create-next-app or separate shadcn init):
   ```bash
   cd /home/wraith/code/ai-projects/vapor-liquid-ai-dash
   pnpm dlx shadcn@latest create --preset "https://ui.shadcn.com/init?base=base&style=nova&baseColor=neutral&theme=neutral&iconLibrary=hugeicons&font=geist&radius=small&template=next&rtl=false" --template next
   ```
   This creates a Next.js app with ShadCN pre-configured (nova style, neutral base, hugeicons icon library, geist font, small radius). If it prompts for a directory name, use the current directory (.) or move files up if it creates a subdirectory.

2. After scaffolding, install additional dependencies:
   ```bash
   pnpm add next-themes
   ```

3. Add the ShadCN sidebar component:
   ```bash
   pnpm dlx shadcn@latest add sidebar button
   ```

4. Verify the app runs: `pnpm dev` should start without errors on localhost:3000.

IMPORTANT: The scaffold command may create files in a subdirectory. If so, move everything up to the project root. The final structure must have package.json at /home/wraith/code/ai-projects/vapor-liquid-ai-dash/package.json.
  </action>
  <verify>
- `pnpm dev` starts successfully (check for "Ready" or "Local:" in output)
- `ls package.json app/layout.tsx app/globals.css` all exist at project root
- `pnpm dlx shadcn@latest add --help` works (ShadCN is configured)
  </verify>
  <done>Next.js app runs on localhost:3000 with ShadCN/ui configured, next-themes installed, sidebar component available.</done>
</task>

<task type="auto">
  <name>Task 2: Apply Liquid AI theme and implement dark mode with toggle</name>
  <files>app/globals.css, app/providers.tsx, app/layout.tsx, components/theme-toggle.tsx</files>
  <action>
1. **Override globals.css** with Liquid AI brand colors as CSS variables. Use the EXACT brand colors provided:
   - Primary: #5603AD (purple) -> HSL approx 271 97% 34%
   - Accent/link: #3898EC (blue) -> HSL approx 209 83% 57%
   - Background light: #F5F5F5 -> HSL 0 0% 96%
   - Text primary: #000000
   - Button primary: black bg, white text, 25px border-radius
   - Button secondary: transparent bg, #C4C4C4 border, 25px border-radius
   - Input: #D8D8D8 border, 1000px border-radius (pill shape), #6D6D6D text
   - Border radius base: 8px (but ShadCN scaffold uses "small" which is fine)

   Map these into ShadCN CSS variable slots:
   ```
   :root {
     --background: 0 0% 96%;          /* #F5F5F5 */
     --foreground: 0 0% 0%;           /* #000000 */
     --primary: 271 97% 34%;          /* #5603AD purple */
     --primary-foreground: 0 0% 100%; /* white on purple */
     --accent: 209 83% 57%;           /* #3898EC blue */
     --accent-foreground: 0 0% 100%;  /* white on blue */
     --secondary: 0 0% 90%;           /* light gray */
     --secondary-foreground: 0 0% 0%;
     --muted: 0 0% 93%;
     --muted-foreground: 0 0% 43%;    /* #6D6D6D */
     --border: 0 0% 85%;              /* #D8D8D8 */
     --ring: 271 97% 34%;             /* match primary */
     --sidebar-background: 0 0% 100%;
     --sidebar-foreground: 0 0% 0%;
     --sidebar-primary: 271 97% 34%;
     --sidebar-accent: 209 83% 57%;
     /* ... keep all other ShadCN variables the scaffold created, just override the color values */
   }

   .dark {
     --background: 240 10% 4%;        /* near black */
     --foreground: 0 0% 96%;          /* #F5F5F5 */
     --primary: 271 80% 55%;          /* lighter purple for dark mode */
     --primary-foreground: 0 0% 100%;
     --accent: 209 83% 57%;           /* blue stays same */
     --accent-foreground: 0 0% 100%;
     --secondary: 240 5% 15%;
     --secondary-foreground: 0 0% 96%;
     --muted: 240 5% 18%;
     --muted-foreground: 0 0% 65%;
     --border: 240 5% 20%;
     --ring: 271 80% 55%;
     --sidebar-background: 240 10% 6%;
     --sidebar-foreground: 0 0% 96%;
     --sidebar-primary: 271 80% 55%;
     --sidebar-accent: 209 83% 57%;
   }
   ```

   IMPORTANT: Preserve ANY existing Tailwind directives (@import, @tailwind, @layer) that the scaffold created. Only replace the color variable values, do not remove structural CSS.

2. **Create app/providers.tsx** as a 'use client' component:
   - Import ThemeProvider from next-themes
   - Wrap children in ThemeProvider with attribute="class", defaultTheme="system", enableSystem={true}

3. **Update app/layout.tsx**:
   - Add suppressHydrationWarning to the html element
   - Wrap the body content with the Providers component
   - Keep any existing font imports from the scaffold (Geist font)

4. **Create components/theme-toggle.tsx** as a 'use client' component:
   - Import useTheme from next-themes
   - Use a Button (ghost variant, icon size) that toggles between light/dark
   - Use Sun/Moon icons from the hugeicons library (the scaffold uses @hugeicons/react or hugeicons-react -- check what was installed). If hugeicons doesn't have Sun/Moon, fall back to lucide-react icons.
   - Sun visible in light mode, Moon visible in dark mode, using CSS transitions
  </action>
  <verify>
- `pnpm dev` runs without errors
- Open browser: app shows Liquid AI purple (#5603AD) as primary color (check any primary-colored element)
- Background is light gray (#F5F5F5) not pure white
- Theme toggle component file exists at components/theme-toggle.tsx
  </verify>
  <done>App displays Liquid AI color palette. ThemeProvider is configured. Theme toggle component exists and toggles between light/dark modes. No hydration flash on page load.</done>
</task>

<task type="auto">
  <name>Task 3: Build sidebar navigation with three route pages</name>
  <files>app/(dashboard)/layout.tsx, app/(dashboard)/page.tsx, app/(dashboard)/training/page.tsx, app/(dashboard)/deployments/page.tsx, components/sidebar/app-sidebar.tsx, app/page.tsx</files>
  <action>
1. **Create the route group layout** at app/(dashboard)/layout.tsx:
   - Import SidebarProvider and SidebarInset from @/components/ui/sidebar
   - Import AppSidebar component
   - Render: SidebarProvider wrapping a flex container with AppSidebar + SidebarInset containing {children}
   - Include a header area inside SidebarInset with the ThemeToggle component and a SidebarTrigger for mobile

2. **Create components/sidebar/app-sidebar.tsx**:
   - Use ShadCN Sidebar components: Sidebar, SidebarContent, SidebarGroup, SidebarGroupLabel, SidebarGroupContent, SidebarMenu, SidebarMenuItem, SidebarMenuButton
   - Define 3 navigation items:
     - Dashboard: url "/" with a dashboard/home icon
     - Training: url "/training" with a settings/brain icon
     - Deployments: url "/deployments" with a server/rocket icon
   - Use Next.js Link component (not <a>) for client-side navigation
   - Add "Vapor" as the app title in a SidebarHeader with the Liquid AI purple color
   - Add the ThemeToggle in SidebarFooter
   - Use usePathname() from next/navigation to highlight the active route (add 'use client' directive)

3. **Create route pages** (each a simple placeholder with the page title so navigation is testable):
   - app/(dashboard)/page.tsx: "Dashboard" heading with a brief description
   - app/(dashboard)/training/page.tsx: "Training" heading with a brief description
   - app/(dashboard)/deployments/page.tsx: "Deployments" heading with a brief description
   - Each page should use basic Tailwind styling: padding, heading size, text color using theme variables

4. **Update app/page.tsx** (root page):
   - Redirect to the dashboard route group, OR make the (dashboard) route group handle "/" directly.
   - Since (dashboard) is a route group (parentheses), app/(dashboard)/page.tsx IS the "/" route. So the original app/page.tsx should be removed or replaced to avoid conflict. Delete or replace the scaffolded app/page.tsx with a simple redirect, or just let the (dashboard)/page.tsx serve as the home page. Since route groups don't affect URL, app/(dashboard)/page.tsx serves "/". Remove the scaffolded app/page.tsx to avoid conflict.

IMPORTANT: Use Next.js Link for navigation (not <a> tags) to get client-side routing. Mark sidebar component as 'use client' since it uses usePathname.
  </action>
  <verify>
- `pnpm dev` runs, visit localhost:3000: sidebar is visible with Dashboard, Training, Deployments links
- Click "Training" in sidebar: URL changes to /training, page shows "Training" heading
- Click "Deployments" in sidebar: URL changes to /deployments, page shows "Deployments" heading
- Click "Dashboard" in sidebar: URL changes to /, page shows "Dashboard" heading
- Theme toggle in sidebar footer toggles between light and dark mode
- On mobile viewport (< 768px), sidebar collapses to hamburger menu
  </verify>
  <done>Sidebar navigation works with 3 routes (Dashboard at /, Training at /training, Deployments at /deployments). Active route is highlighted. Dark mode toggle is accessible in sidebar. Layout is responsive with collapsible sidebar on mobile.</done>
</task>

</tasks>

<verification>
1. `pnpm dev` starts without errors
2. All 3 routes are navigable via sidebar: /, /training, /deployments
3. Primary color is Liquid AI purple (#5603AD) visible in sidebar active state or headings
4. Dark mode toggle switches theme without page reload or flash
5. Sidebar collapses on mobile viewport
</verification>

<success_criteria>
- FNDN-01: Sidebar navigation with Dashboard, Training, Deployments routes -- all clickable and rendering unique pages
- FNDN-02: Liquid AI color palette (#5603AD primary, #3898EC accent, #F5F5F5 background) applied via CSS variables
- FNDN-03: Dark mode toggle works, persists preference, no hydration flash
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-database/01-01-SUMMARY.md`
</output>
